# RPM spec file for @PACKAGE@.
# This file is used to build Redhat Package Manager packages for the
# @PACKAGE@.  Such packages make it easy to install and uninstall
# the library and related files from binaries or source.
#
# This spec file is for version @VERSION@ of @PACKAGE@; the appropriate
# version numbers are automatically substituted in to @PACKAGE@.spec.in
# by the configure script.  However, @PACKAGE@.spec.in may need to be
# modified for future releases, if the list of installed files
# or build commands change.
#
# RPM.  To build, use the command: rpm --clean -ba @PACKAGE@.spec
#
# Alternatively, you can just use 'make rpm'.
#
Name: @PACKAGE@
Summary: Library of exchange and correlation functionals to be used in DFT codes
Version: @VERSION@
Release: 1
Provides: %{name}
License: LGPL 2.0
Group: Applications/Scientific
Prefix: /usr
BuildRoot: %{_tmppath}/%{name}-%{version}-buildroot
Source: http://www.tddft.org/programs/octopus/download/%{name}-%{version}.tar.gz
URL: http://www.tddft.org/programs/octopus/wiki/index.php/Libxc

%description 
Libxc is a library of exchange and correlation functionals. Its
purpose is to be used in codes that implement density-functional
theory. For the moment, the library includes most of the local density
approximations (LDAs), generalized density approximation (GGAs), and
meta-GGAs. The library provides values for the energy density and its
1st, 2nd, and (for the LDAs) 3rd derivatives.

%prep
rm -rf $RPM_BUILD_ROOT
%setup -q

# The installation is also performed in the %%build stage because the
# code has to be configured twice, with and without MPI support, and
# cleaned in between.
%build
%configure \
  CC="@CC@" \
  CPP="@CPP@" \
  FC="@FC@" \
  FCFLAGS="@FCFLAGS@" \
  CFLAGS="@CFLAGS@" \
  CPPFLAGS="@CPPFLAGS@" \
  LDFLAGS="@LDFLAGS@" \
  --disable-static

make

make install DESTDIR=${RPM_BUILD_ROOT}

%clean
rm -rf ${RPM_BUILD_ROOT}


%post


%preun


%files
%defattr(-,root,root,0755)
%doc README NEWS COPYING AUTHORS ChangeLog
%{_libdir}/*
%{_includedir}/*
