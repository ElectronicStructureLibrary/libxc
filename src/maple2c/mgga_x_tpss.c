/* 
  This file was generated automatically with ../scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  Maple source      : ../maple/mgga_x_tpss.mpl
  Type of functional: work_mgga_x
*/

static void 
XC(mgga_x_tpss_enhance)(const XC(func_type) *pt, XC(mgga_work_x_t) *r)
{
  double t1, t2, t4, t5, t8, t9, t10, t11;
  double t12, t13, t14, t16, t17, t18, t21, t22;
  double t25, t26, t28, t29, t30, t32, t33, t34;
  double t39, t40, t43, t44, t46, t47, t50, t52;
  double t54, t55, t58, t59, t60, t63, t64, t66;
  double t67, t68, t70, t75, t76, t78, t79, t80;
  double t87, t91, t92, t93, t94, t98, t102, t106;
  double t107, t108, t110, t111, t115, t120, t125, t126;
  double t127, t129, t131, t142, t145, t146, t147, t150;
  double t151, t156, t159, t161, t162, t166, t168, t171;
  double t172, t173, t176, t181, t186, t190, t191, t194;
  double t197, t207, t210, t211, t213, t214, t228, t234;
  double t237, t238, t242, t250, t255, t260, t261, t264;
  double t266, t278, t283, t284, t294, t298, t311, t314;
  double t317, t327, t329, t332, t337, t342, t348, t402;
  double t415;

  mgga_x_tpss_params *params;
 
  assert(pt->params != NULL);
  params = (mgga_x_tpss_params * ) (pt->params);

  t1 = r->x * r->x;
  t2 = 0.1e1 / r->t;
  t4 = 0.12500000000000000000e0 * t1 * t2;
  t5 = params->BLOC_b * t1;
  t8 = params->BLOC_a + 0.12500000000000000000e0 * t5 * t2;
  t9 = pow(t4, t8);
  t10 = params->c * t9;
  t11 = t1 * t1;
  t12 = r->t * r->t;
  t13 = 0.1e1 / t12;
  t14 = t11 * t13;
  t16 = 0.10e1 + 0.15625000000000000000e-1 * t14;
  t17 = t16 * t16;
  t18 = 0.1e1 / t17;
  t21 = X2S * X2S;
  t22 = (t10 * t18 + MU_GE) * t21;
  t25 = r->t - t1 / 0.8e1;
  t26 = 0.1e1 / K_FACTOR_C;
  t28 = t25 * t26 - 0.10e1;
  t29 = params->b * t25;
  t30 = t26 * t28;
  t32 = 0.10e1 + t29 * t30;
  t33 = sqrt(t32);
  t34 = 0.1e1 / t33;
  t39 = 0.45000000000000000000e0 * t28 * t34 + 0.66666666666666666667e0 * t21 * t1;
  t40 = t39 * t39;
  t43 = t21 * t21;
  t44 = t43 * t11;
  t46 = 0.28125000000000000000e-2 * t14 + 0.5e0 * t44;
  t47 = sqrt(t46);
  t50 = MU_GE * MU_GE;
  t52 = t50 / params->kappa;
  t54 = sqrt(params->e);
  t55 = t54 * MU_GE;
  t58 = params->e * params->mu;
  t59 = t43 * t21;
  t60 = t11 * t1;
  t63 = t22 * t1 + 0.72098765432098765432e-1 * t40 - 0.18024691358024691358e0 * t39 * t47 + t52 * t44 + 0.11250000000000000000e-1 * t55 * t14 + t58 * t59 * t60;
  t64 = t54 * t21;
  t66 = 0.10e1 + t64 * t1;
  t67 = t66 * t66;
  t68 = 0.1e1 / t67;
  t70 = t63 * t68 + params->kappa;
  r->f = 0.10e1 + params->kappa * (0.10e1 - params->kappa / t70);

  if(r->order < 1) return;

  r->dfdrs = 0;
  t75 = params->kappa * params->kappa;
  t76 = t70 * t70;
  t78 = t75 / t76;
  t79 = params->BLOC_b * r->x;
  t80 = log(t4);
  t87 = 0.25000000000000000000e0 * t79 * t2 * t80 + 0.20000000000000000000e1 * t8 / r->x;
  t91 = 0.1e1 / t17 / t16;
  t92 = t1 * r->x;
  t93 = t91 * t92;
  t94 = t93 * t13;
  t98 = (t10 * t87 * t18 - 0.12500000000000000000e0 * t10 * t94) * t21;
  t102 = r->x * t26;
  t106 = 0.1e1 / t33 / t32;
  t107 = t28 * t106;
  t108 = params->b * r->x;
  t110 = K_FACTOR_C * K_FACTOR_C;
  t111 = 0.1e1 / t110;
  t115 = -t29 * t111 * r->x / 0.4e1 - t108 * t30 / 0.4e1;
  t120 = -0.11250000000000000000e0 * t102 * t34 - 0.22500000000000000000e0 * t107 * t115 + 0.13333333333333333333e1 * t21 * r->x;
  t125 = 0.1e1 / t47;
  t126 = t39 * t125;
  t127 = t92 * t13;
  t129 = t43 * t92;
  t131 = 0.11250000000000000000e-1 * t127 + 0.20e1 * t129;
  t142 = t98 * t1 + 0.2e1 * t22 * r->x + 0.14419753086419753086e0 * t39 * t120 - 0.18024691358024691358e0 * t120 * t47 - 0.90123456790123456790e-1 * t126 * t131 + 0.4e1 * t52 * t129 + 0.45000000000000000000e-1 * t55 * t127 + 0.6e1 * t58 * t59 * t11 * r->x;
  t145 = 0.1e1 / t67 / t66;
  t146 = t63 * t145;
  t147 = t64 * r->x;
  t150 = t142 * t68 - 0.4e1 * t146 * t147;
  r->dfdx = t78 * t150;
  t151 = t13 * t80;
  t156 = -0.12500000000000000000e0 * t5 * t151 - 0.10000000000000000000e1 * t8 * t2;
  t159 = t91 * t11;
  t161 = 0.1e1 / t12 / r->t;
  t162 = t159 * t161;
  t166 = (t10 * t156 * t18 + 0.62500000000000000000e-1 * t10 * t162) * t21;
  t168 = t26 * t34;
  t171 = params->b * t26 * t28;
  t172 = t29 * t111;
  t173 = t171 + t172;
  t176 = 0.45000000000000000000e0 * t168 - 0.22500000000000000000e0 * t107 * t173;
  t181 = t11 * t161;
  t186 = t166 * t1 + 0.14419753086419753086e0 * t39 * t176 - 0.18024691358024691358e0 * t176 * t47 + 0.50694444444444444444e-3 * t126 * t181 - 0.22500000000000000000e-1 * t55 * t181;
  r->dfdt = t78 * t186 * t68;
  r->dfdu = 0;

  if(r->order < 2) return;

  r->d2fdrs2 = 0;
  t190 = t75 / t76 / t70;
  t191 = t150 * t150;
  t194 = t87 * t87;
  t197 = params->BLOC_b * t2;
  t207 = t10 * t87;
  t210 = t17 * t17;
  t211 = 0.1e1 / t210;
  t213 = t12 * t12;
  t214 = 0.1e1 / t213;
  t228 = t120 * t120;
  t234 = t32 * t32;
  t237 = t28 / t33 / t234;
  t238 = t115 * t115;
  t242 = params->b * t111;
  t250 = -0.11250000000000000000e0 * t168 + 0.11250000000000000000e0 * t102 * t106 * t115 + 0.33750000000000000000e0 * t237 * t238 - 0.22500000000000000000e0 * t107 * (-t171 / 0.4e1 + t242 * t1 / 0.8e1 - t172 / 0.4e1) + 0.13333333333333333333e1 * t21;
  t255 = t120 * t125;
  t260 = t39 / t47 / t46;
  t261 = t131 * t131;
  t264 = t1 * t13;
  t266 = t43 * t1;
  t278 = (t10 * t194 * t18 + t10 * (0.25000000000000000000e0 * t197 * t80 + 0.10000000000000000000e1 * t197 - 0.20000000000000000000e1 * t8 / t1) * t18 - 0.25000000000000000000e0 * t207 * t94 + 0.23437500000000000000e-1 * t10 * t211 * t60 * t214 - 0.37500000000000000000e0 * t10 * t91 * t1 * t13) * t21 * t1 + 0.4e1 * t98 * r->x + 0.2e1 * t22 + 0.14419753086419753086e0 * t228 + 0.14419753086419753086e0 * t39 * t250 - 0.18024691358024691358e0 * t250 * t47 - 0.18024691358024691358e0 * t255 * t131 + 0.45061728395061728395e-1 * t260 * t261 - 0.90123456790123456790e-1 * t126 * (0.33750000000000000000e-1 * t264 + 0.60e1 * t266) + 0.12e2 * t52 * t266 + 0.13500000000000000000e0 * t55 * t264 + 0.30e2 * t58 * t59 * t11;
  t283 = t67 * t67;
  t284 = 0.1e1 / t283;
  r->d2fdx2 = -0.2e1 * t190 * t191 + t78 * (0.24e2 * t63 * t284 * params->e * t43 * t1 - 0.8e1 * t142 * t145 * t147 - 0.4e1 * t146 * t64 + t278 * t68);
  t294 = t186 * t186;
  t298 = t156 * t156;
  t311 = t10 * t156;
  t314 = t11 * t11;
  t317 = 0.1e1 / t213 / t12;
  t327 = t176 * t176;
  t329 = t26 * t106;
  t332 = t173 * t173;
  t337 = -0.45000000000000000000e0 * t329 * t173 + 0.33750000000000000000e0 * t237 * t332 - 0.45000000000000000000e0 * t107 * t242;
  t342 = t176 * t125;
  t348 = t11 * t214;
  r->d2fdt2 = -0.2e1 * t190 * t294 * t284 + t78 * ((t10 * t298 * t18 + t10 * (0.25000000000000000000e0 * t5 * t161 * t80 + 0.25000000000000000000e0 * t5 * t161 + 0.10000000000000000000e1 * t8 * t13) * t18 + 0.12500000000000000000e0 * t311 * t162 + 0.58593750000000000000e-2 * t10 * t211 * t314 * t317 - 0.18750000000000000000e0 * t10 * t159 * t214) * t21 * t1 + 0.14419753086419753086e0 * t327 + 0.14419753086419753086e0 * t39 * t337 - 0.18024691358024691358e0 * t337 * t47 + 0.10138888888888888889e-2 * t342 * t181 + 0.14257812500000000000e-5 * t260 * t314 * t317 - 0.15208333333333333333e-2 * t126 * t348 + 0.67500000000000000000e-1 * t55 * t348) * t68;
  r->d2fdu2 = 0;
  r->d2fdrsx = 0;
  r->d2fdrst = 0;
  r->d2fdrsu = 0;
  t402 = 0.56250000000000000000e-1 * t102 * t106 * t173 - 0.22500000000000000000e0 * t329 * t115 + 0.33750000000000000000e0 * t237 * t115 * t173 + 0.11250000000000000000e0 * t107 * t108 * t111;
  t415 = t92 * t161;
  r->d2fdxt = -0.2e1 * t190 * t150 * t186 * t68 + t78 * (((t10 * t156 * t87 * t18 + t10 * (-0.25000000000000000000e0 * t79 * t151 - 0.50000000000000000000e0 * t79 * t13) * t18 + 0.62500000000000000000e-1 * t207 * t162 - 0.12500000000000000000e0 * t311 * t94 - 0.11718750000000000000e-1 * t10 * t211 * t11 * t92 / t213 / r->t + 0.25000000000000000000e0 * t10 * t93 * t161) * t21 * t1 + 0.2e1 * t166 * r->x + 0.14419753086419753086e0 * t176 * t120 + 0.14419753086419753086e0 * t39 * t402 - 0.18024691358024691358e0 * t402 * t47 + 0.50694444444444444444e-3 * t255 * t181 - 0.90123456790123456790e-1 * t342 * t131 - 0.25347222222222222222e-3 * t260 * t131 * t11 * t161 + 0.20277777777777777778e-2 * t126 * t415 - 0.90000000000000000000e-1 * t55 * t415) * t68 - 0.4e1 * t186 * t145 * t147);
  r->d2fdxu = 0;
  r->d2fdtu = 0;

  if(r->order < 3) return;


}

#define maple2c_order 3
#define maple2c_func  XC(mgga_x_tpss_enhance)
